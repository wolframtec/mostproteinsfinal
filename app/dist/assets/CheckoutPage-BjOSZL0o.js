import{c as U,g as Le,R as u,r as j,j as e,C as se,L as re,u as qe,T as de,F as Ue,a as $e}from"./index-ii696Ucc.js";import{A as Me}from"./arrow-left-CZzuOKAQ.js";import{M as We}from"./map-pin-CyswVbVd.js";const De=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Be=U("circle-alert",De);const ze=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pe=U("credit-card",ze);const Ve=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Je=U("loader-circle",Ve);const Ke=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ye=U("truck",Ke);const He=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],he=U("user",He);const Xe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ge=U("wallet",Xe);function J(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(t){return typeof t}:J=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(r)}var ke="clover",Qe=function(t){return t===3?"v3":t},Ce="https://js.stripe.com",Ze="".concat(Ce,"/").concat(ke,"/stripe.js"),et=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var st=function(t){return et.test(t)||tt.test(t)},rt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Ce,'"]')),s=0;s<t.length;s++){var a=t[s];if(st(a.src))return a}return null},ue=function(t){var s="",a=document.createElement("script");a.src="".concat(Ze).concat(s);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(a),a},at=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},M=null,z=null,V=null,ct=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},ot=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},nt=function(t){return M!==null?M:(M=new Promise(function(s,a){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var c=rt();if(!(c&&t)){if(!c)c=ue(t);else if(c&&V!==null&&z!==null){var o;c.removeEventListener("load",V),c.removeEventListener("error",z),(o=c.parentNode)===null||o===void 0||o.removeChild(c),c=ue(t)}}V=ot(s,a),z=ct(a),c.addEventListener("load",V),c.addEventListener("error",z)}catch(d){a(d);return}}),M.catch(function(s){return M=null,Promise.reject(s)}))},it=function(t,s,a){if(t===null)return null;var c=s[0];if(typeof c!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(J(c)," instead."));var o=c.match(/^pk_test/),d=Qe(t.version),h=ke;o&&d!==h&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var n=t.apply(void 0,s);return at(n,a),n},W,je=!1,Ne=function(){return W||(W=nt(null).catch(function(t){return W=null,Promise.reject(t)}),W)};Promise.resolve().then(function(){return Ne()}).catch(function(r){je||console.warn(r)});var lt=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];je=!0;var c=Date.now();return Ne().then(function(o){return it(o,s,c)})},Z={exports:{}},ee,me;function dt(){if(me)return ee;me=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ee=r,ee}var te,xe;function pt(){if(xe)return te;xe=1;var r=dt();function t(){}function s(){}return s.resetWarningCache=t,te=function(){function a(d,h,n,f,g,m){if(m!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}a.isRequired=a;function c(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:c,element:a,elementType:a,instanceOf:c,node:a,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:s,resetWarningCache:t};return o.PropTypes=o,o},te}var ge;function ht(){return ge||(ge=1,Z.exports=pt()()),Z.exports}var ut=ht();const p=Le(ut);function fe(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,a)}return s}function be(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fe(Object(s),!0).forEach(function(a){Se(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):fe(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}function K(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(t){return typeof t}:K=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(r)}function Se(r,t,s){return t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function mt(r,t){if(r==null)return{};var s={},a=Object.keys(r),c,o;for(o=0;o<a.length;o++)c=a[o],!(t.indexOf(c)>=0)&&(s[c]=r[c]);return s}function xt(r,t){if(r==null)return{};var s=mt(r,t),a,c;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(c=0;c<o.length;c++)a=o[c],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}function we(r,t){return gt(r)||ft(r,t)||bt(r,t)||yt()}function gt(r){if(Array.isArray(r))return r}function ft(r,t){var s=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(s!=null){var a=[],c=!0,o=!1,d,h;try{for(s=s.call(r);!(c=(d=s.next()).done)&&(a.push(d.value),!(t&&a.length===t));c=!0);}catch(n){o=!0,h=n}finally{try{!c&&s.return!=null&&s.return()}finally{if(o)throw h}}return a}}function bt(r,t){if(r){if(typeof r=="string")return ye(r,t);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ye(r,t)}}function ye(r,t){(t==null||t>r.length)&&(t=r.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=r[s];return a}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=function(t,s,a){var c=!!a,o=u.useRef(a);u.useEffect(function(){o.current=a},[a]),u.useEffect(function(){if(!c||!t)return function(){};var d=function(){o.current&&o.current.apply(o,arguments)};return t.on(s,d),function(){t.off(s,d)}},[c,s,t,o])},ae=function(t){var s=u.useRef(t);return u.useEffect(function(){s.current=t},[t]),s.current},q=function(t){return t!==null&&K(t)==="object"},vt=function(t){return q(t)&&typeof t.then=="function"},Pt=function(t){return q(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},ve="[object Object]",kt=function r(t,s){if(!q(t)||!q(s))return t===s;var a=Array.isArray(t),c=Array.isArray(s);if(a!==c)return!1;var o=Object.prototype.toString.call(t)===ve,d=Object.prototype.toString.call(s)===ve;if(o!==d)return!1;if(!o&&!a)return t===s;var h=Object.keys(t),n=Object.keys(s);if(h.length!==n.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var m=0;m<n.length;m+=1)f[n[m]]=!0;var l=Object.keys(f);if(l.length!==h.length)return!1;var R=t,w=s,k=function(b){return r(R[b],w[b])};return l.every(k)},Ee=function(t,s,a){return q(t)?Object.keys(t).reduce(function(c,o){var d=!q(s)||!kt(t[o],s[o]);return a.includes(o)?(d&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),c):d?be(be({},c||{}),{},Se({},o,t[o])):c},null):null},Re="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Pe=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Re;if(t===null||Pt(t))return t;throw new Error(s)},Ct=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Re;if(vt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(c){return Pe(c,s)})};var a=Pe(t,s);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},jt=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},Y=u.createContext(null);Y.displayName="ElementsContext";var Oe=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},Ae=function(t){var s=t.stripe,a=t.options,c=t.children,o=u.useMemo(function(){return Ct(s)},[s]),d=u.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(a):null}}),h=we(d,2),n=h[0],f=h[1];u.useEffect(function(){var l=!0,R=function(k){f(function(i){return i.stripe?i:{stripe:k,elements:k.elements(a)}})};return o.tag==="async"&&!n.stripe?o.stripePromise.then(function(w){w&&l&&R(w)}):o.tag==="sync"&&!n.stripe&&R(o.stripe),function(){l=!1}},[o,n,a]);var g=ae(s);u.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var m=ae(a);return u.useEffect(function(){if(n.elements){var l=Ee(a,m,["clientSecret","fonts"]);l&&n.elements.update(l)}},[a,m,n.elements]),u.useEffect(function(){jt(n.stripe)},[n.stripe]),u.createElement(Y.Provider,{value:n},c)};Ae.propTypes={stripe:p.any,options:p.object};var Nt=function(t){var s=u.useContext(Y);return Oe(s,t)},St=function(){var t=Nt("calls useElements()"),s=t.elements;return s};p.func.isRequired;var Te=u.createContext(null);Te.displayName="CheckoutContext";p.any,p.shape({clientSecret:p.oneOfType([p.string,p.instanceOf(Promise)]).isRequired,elementsOptions:p.object}).isRequired;var ce=function(t){var s=u.useContext(Te),a=u.useContext(Y);if(s){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s}else return Oe(a,t)},wt=["mode"],Et=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},N=function(t,s){var a="".concat(Et(t),"Element"),c=function(n){var f=n.id,g=n.className,m=n.options,l=m===void 0?{}:m,R=n.onBlur,w=n.onFocus,k=n.onReady,i=n.onChange,b=n.onEscape,x=n.onClick,H=n.onLoadError,X=n.onLoaderStart,v=n.onNetworksChange,E=n.onConfirm,I=n.onCancel,$=n.onShippingAddressChange,T=n.onShippingRateChange,_=n.onSavedPaymentMethodRemove,Ie=n.onSavedPaymentMethodUpdate,D=ce("mounts <".concat(a,">")),B="elements"in D?D.elements:null,F="checkoutState"in D?D.checkoutState:null,O=F?.type==="success"||F?.type==="loading"?F.sdk:null,Fe=u.useState(null),oe=we(Fe,2),P=oe[0],_e=oe[1],A=u.useRef(null),G=u.useRef(null);C(P,"blur",R),C(P,"focus",w),C(P,"escape",b),C(P,"click",x),C(P,"loaderror",H),C(P,"loaderstart",X),C(P,"networkschange",v),C(P,"confirm",E),C(P,"cancel",I),C(P,"shippingaddresschange",$),C(P,"shippingratechange",T),C(P,"savedpaymentmethodremove",_),C(P,"savedpaymentmethodupdate",Ie),C(P,"change",i);var Q;k&&(t==="expressCheckout"?Q=k:Q=function(){k(P)}),C(P,"ready",Q),u.useLayoutEffect(function(){if(A.current===null&&G.current!==null&&(B||O)){var y=null;if(O)switch(t){case"paymentForm":y=O.createPaymentFormElement(l);break;case"payment":y=O.createPaymentElement(l);break;case"address":if("mode"in l){var ie=l.mode,le=xt(l,wt);if(ie==="shipping")y=O.createShippingAddressElement(le);else if(ie==="billing")y=O.createBillingAddressElement(le);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":y=O.createExpressCheckoutElement(l);break;case"currencySelector":y=O.createCurrencySelectorElement();break;case"taxId":y=O.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&(y=B.create(t,l));A.current=y,_e(y),y&&y.mount(G.current)}},[B,O,l]);var ne=ae(l);return u.useEffect(function(){if(A.current){var y=Ee(l,ne,["paymentRequest"]);y&&"update"in A.current&&A.current.update(y)}},[l,ne]),u.useLayoutEffect(function(){return function(){if(A.current&&typeof A.current.destroy=="function")try{A.current.destroy(),A.current=null}catch{}}},[]),u.createElement("div",{id:f,className:g,ref:G})},o=function(n){ce("mounts <".concat(a,">"));var f=n.id,g=n.className;return u.createElement("div",{id:f,className:g})},d=s?o:c;return d.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,onSavedPaymentMethodRemove:p.func,onSavedPaymentMethodUpdate:p.func,options:p.object},d.displayName=a,d.__elementType=t,d},S=typeof window>"u",Rt=u.createContext(null);Rt.displayName="EmbeddedCheckoutProviderContext";var Ot=function(){var t=ce("calls useStripe()"),s=t.stripe;return s};N("auBankAccount",S);N("card",S);N("cardNumber",S);N("cardExpiry",S);N("cardCvc",S);N("iban",S);var At=N("payment",S),Tt=N("expressCheckout",S);N("paymentRequestButton",S);N("linkAuthentication",S);N("address",S);N("shippingAddress",S);N("paymentMethodMessaging",S);N("taxId",S);const It="pk_live_51S4XlR0SClXAcjAhi1w6BkuRdEZaYBtsVLZXf9wg4LyriUJmWL9ztKzco7jUhmSbm35Sw9DXpuKTwnUd8iy8SUUj00bAEHhFna";function Ft({children:r,clientSecret:t}){const[s,a]=j.useState(null),[c,o]=j.useState(!0),[d,h]=j.useState(null);if(j.useEffect(()=>{(async()=>{try{const g=await lt(It);a(g)}catch(g){h("Failed to load payment system. Please try again later."),console.error("Stripe initialization error:",g)}finally{o(!1)}})()},[]),c)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:36:7",className:"min-h-screen bg-biotech-black flex items-center justify-center",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:37:9",className:"text-center",children:[e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:38:11",className:"w-12 h-12 border-4 border-biotech-mint/30 border-t-biotech-mint rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:39:11",className:"text-biotech-gray",children:"Loading payment system..."})]})});if(d)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:47:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:48:9",className:"glass-card p-8 max-w-md text-center",children:[e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:49:11",className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{"code-path":"src/components/StripeProvider.tsx:50:13",className:"w-8 h-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"code-path":"src/components/StripeProvider.tsx:51:15",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{"code-path":"src/components/StripeProvider.tsx:54:11",className:"text-xl font-heading font-bold text-biotech-white mb-2",children:"Payment System Error"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:55:11",className:"text-biotech-gray mb-4",children:d}),e.jsx("button",{"code-path":"src/components/StripeProvider.tsx:56:11",onClick:()=>window.location.reload(),className:"btn-primary",children:"Try Again"})]})});if(!s)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:69:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:70:9",className:"glass-card p-8 max-w-md text-center",children:[e.jsx("h2",{"code-path":"src/components/StripeProvider.tsx:71:11",className:"text-xl font-heading font-bold text-biotech-white mb-2",children:"Demo Mode"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:72:11",className:"text-biotech-gray mb-4",children:"Stripe is not configured. To enable payments, add your Stripe public key to the environment variables."}),e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:75:11",className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mb-4",children:e.jsxs("p",{"code-path":"src/components/StripeProvider.tsx:76:13",className:"text-sm text-yellow-400/80",children:[e.jsx("strong",{"code-path":"src/components/StripeProvider.tsx:77:15",children:"Note:"})," Checkout will proceed in demo mode without actual payment processing."]})}),r]})});const n=t?{clientSecret:t,appearance:{theme:"night",variables:{colorPrimary:"#2EE9A8",colorBackground:"#0B0C10",colorText:"#F4F6FA",colorDanger:"#ef4444",borderRadius:"12px",fontFamily:"Inter, sans-serif"},rules:{".Input":{backgroundColor:"#111318",border:"1px solid rgba(244, 246, 250, 0.2)"},".Input:focus":{border:"1px solid #2EE9A8"},".Tab":{backgroundColor:"#111318",border:"1px solid rgba(244, 246, 250, 0.2)"},".Tab--selected":{backgroundColor:"rgba(46, 233, 168, 0.1)",border:"1px solid #2EE9A8"}}}}:void 0;return e.jsx(Ae,{"code-path":"src/components/StripeProvider.tsx:120:5",stripe:s,options:n,children:r})}function _t({clientSecret:r,onSuccess:t,onError:s,totalAmount:a}){const c=Ot(),o=St(),[d,h]=j.useState(!1),[n,f]=j.useState(null),[g,m]=j.useState("idle"),[l,R]=j.useState(!1),w=async i=>{if(!(!c||!o)){h(!0),f(null),m("processing");try{const{error:b}=await c.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/checkout/complete`},redirect:"if_required"});b?(f(b.message||"Payment failed. Please try again."),s(b.message||"Payment failed"),m("idle"),i.complete("fail")):(m("succeeded"),i.complete("success"),t())}catch(b){const x=b instanceof Error?b.message:"Payment processing failed";f(x),s(x),m("idle"),i.complete("fail")}finally{h(!1)}}},k=async i=>{if(i.preventDefault(),!c||!o){f("Payment system is loading. Please try again.");return}h(!0),f(null),m("processing");try{const{error:b,paymentIntent:x}=await c.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/checkout/complete`},redirect:"if_required"});b?(f(b.message||"Payment failed. Please try again."),s(b.message||"Payment failed"),m("idle")):x&&(x.status==="succeeded"?(m("succeeded"),t()):x.status==="requires_action"?m("processing"):(f(`Payment status: ${x.status}. Please contact support.`),m("idle")))}catch(b){const x=b instanceof Error?b.message:"Payment processing failed";f(x),s(x),m("idle")}finally{h(!1)}};return e.jsxs("form",{"code-path":"src/components/PaymentForm.tsx:115:5",onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:117:7",className:"bg-biotech-black/50 border border-biotech-white/20 rounded-xl p-4",children:[e.jsxs("label",{"code-path":"src/components/PaymentForm.tsx:118:9",className:"block text-sm text-biotech-gray mb-3 flex items-center gap-2",children:[e.jsx(Ge,{"code-path":"src/components/PaymentForm.tsx:119:11",className:"w-4 h-4"}),"Quick Checkout"]}),e.jsx(Tt,{"code-path":"src/components/PaymentForm.tsx:122:9",onReady:()=>R(!0),onClick:({resolve:i})=>{i({lineItems:[{name:"Research Order",amount:a}]})},onConfirm:w,options:{buttonType:{applePay:"buy",googlePay:"buy"},buttonHeight:44}}),!l&&e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:144:11",className:"text-xs text-biotech-gray/60 mt-2 text-center",children:"Loading express checkout options..."})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:151:7",className:"relative",children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:152:9",className:"absolute inset-0 flex items-center",children:e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:153:11",className:"w-full border-t border-biotech-white/10"})}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:155:9",className:"relative flex justify-center text-sm",children:e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:156:11",className:"px-2 bg-biotech-black text-biotech-gray",children:"Or pay with card"})})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:161:7",className:"bg-biotech-black/50 border border-biotech-white/20 rounded-xl p-4",children:[e.jsx("label",{"code-path":"src/components/PaymentForm.tsx:162:9",className:"block text-sm text-biotech-gray mb-2",children:"Card Information"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:165:9",className:"p-3 bg-biotech-dark rounded-lg",children:e.jsx(At,{"code-path":"src/components/PaymentForm.tsx:166:11",options:{layout:{type:"tabs",defaultCollapsed:!1},paymentMethodOrder:["card"]}})}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:178:9",className:"flex items-center gap-2 mt-3",children:[e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:179:11",className:"flex gap-1",children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:181:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"VISA"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:183:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"MC"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:185:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"AMEX"})]}),e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:187:11",className:"text-xs text-biotech-gray/60 ml-auto",children:"Encrypted & Secure"})]})]}),n&&e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:195:9",className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(Be,{"code-path":"src/components/PaymentForm.tsx:196:11",className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:197:11",className:"text-sm text-red-300/80",children:n})]}),g==="succeeded"&&e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:203:9",className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(se,{"code-path":"src/components/PaymentForm.tsx:204:11",className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:205:11",className:"text-sm text-green-300/80",children:"Payment successful! Processing your order..."})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:210:7",className:"flex items-center gap-2 text-sm text-biotech-gray",children:[e.jsx(re,{"code-path":"src/components/PaymentForm.tsx:211:9",className:"w-4 h-4 text-biotech-mint"}),e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:212:9",children:"Your payment is secured with 256-bit SSL encryption"})]}),e.jsx("button",{"code-path":"src/components/PaymentForm.tsx:216:7",type:"submit",disabled:d||!c||g==="succeeded",className:"w-full py-4 bg-biotech-mint text-biotech-black font-semibold rounded-xl hover:bg-biotech-mint/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:223:13",className:"w-5 h-5 border-2 border-biotech-black/30 border-t-biotech-black rounded-full animate-spin"}),"Processing Payment..."]}):g==="succeeded"?e.jsxs(e.Fragment,{children:[e.jsx(se,{"code-path":"src/components/PaymentForm.tsx:228:13",className:"w-5 h-5"}),"Payment Complete"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{"code-path":"src/components/PaymentForm.tsx:233:13",className:"w-5 h-5"}),"Complete Purchase"]})}),!c&&e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:241:9",className:"bg-biotech-mint/10 border border-biotech-mint/20 rounded-lg p-3",children:e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:242:11",className:"text-sm text-biotech-mint text-center",children:"Initializing secure payment system..."})})]})}const Lt="http://localhost:3001/api",qt=3e4;async function L(r,t={}){const s=new AbortController,a=setTimeout(()=>s.abort(),qt);try{const c=await fetch(`${Lt}${r}`,{...t,headers:{"Content-Type":"application/json",...t.headers},signal:s.signal});clearTimeout(a);const o=await c.json();return c.ok?o:{success:!1,error:o.error||{code:"UNKNOWN_ERROR",message:"An unexpected error occurred"}}}catch(c){return clearTimeout(a),c instanceof Error?c.name==="AbortError"?{success:!1,error:{code:"TIMEOUT",message:"Request timed out. Please try again."}}:{success:!1,error:{code:"NETWORK_ERROR",message:c.message}}:{success:!1,error:{code:"UNKNOWN_ERROR",message:"An unexpected error occurred"}}}}const Ut={create:r=>L("/orders",{method:"POST",body:JSON.stringify(r)}),get:(r,t)=>{const s=t?`?email=${encodeURIComponent(t)}`:"";return L(`/orders/${r}${s}`,{method:"GET"})},updateStatus:(r,t,s)=>L(`/orders/${r}/status`,{method:"PATCH",body:JSON.stringify({status:t,paymentIntentId:s})})},$t={createIntent:r=>L("/payments/create-intent",{method:"POST",body:JSON.stringify(r)}),getStatus:r=>L(`/payments/${r}/status`,{method:"GET"}),confirm:(r,t)=>L(`/payments/${r}/confirm`,{method:"POST",body:JSON.stringify({paymentMethod:t})})};function Bt({onBack:r}){const{items:t,total:s,clearCart:a}=qe(),[c,o]=j.useState("info"),[d,h]=j.useState(!1),[n,f]=j.useState(null),[g,m]=j.useState(null),[l,R]=j.useState(!1),[w,k]=j.useState(null),[i,b]=j.useState({firstName:"",lastName:"",email:"",institution:"",address:"",city:"",state:"",zip:"",country:"US",researchPurpose:!1,ageConfirm:!1,termsAgree:!1}),x=v=>{const{name:E,value:I,type:$}=v.target;b(T=>({...T,[E]:$==="checkbox"?v.target.checked:I})),k(null)},H=async v=>{v.preventDefault(),R(!0),k(null);try{const E=await Ut.create({items:t.map(_=>({productId:_.id,name:_.name,quantity:_.quantity,price:_.price*100})),shippingAddress:{name:`${i.firstName} ${i.lastName}`,line1:i.address,city:i.city,state:i.state,postalCode:i.zip,country:i.country},customerEmail:i.email,ageVerified:i.ageConfirm,termsAccepted:i.termsAgree,researchUseOnly:i.researchPurpose,notes:`Institution: ${i.institution}`});if(!E.success||!E.data)throw new Error(E.error?.message||"Failed to create order");const I=E.data.orderId;f(I);const $={...i,orderId:I,cartItems:t,total:s,timestamp:new Date().toISOString(),userAgent:navigator.userAgent};localStorage.setItem("last_checkout_attempt",JSON.stringify($));const T=await $t.createIntent({amount:E.data.total,currency:"usd",orderId:I,customerEmail:i.email,metadata:{ageVerified:i.ageConfirm.toString(),termsAccepted:i.termsAgree.toString(),researchUseOnly:i.researchPurpose.toString()}});if(!T.success||!T.data)throw new Error(T.error?.message||"Failed to create payment intent");m(T.data.clientSecret),o("payment")}catch(E){k(E instanceof Error?E.message:"An unexpected error occurred")}finally{R(!1)}},X=()=>{h(!0),a(),localStorage.removeItem("last_checkout_attempt")};return d?e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:132:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:133:9",className:"glass-card p-8 max-w-md w-full text-center",children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:134:11",className:"w-20 h-20 bg-biotech-mint/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(se,{"code-path":"src/pages/CheckoutPage.tsx:135:13",className:"w-10 h-10 text-biotech-mint"})}),e.jsx("h2",{"code-path":"src/pages/CheckoutPage.tsx:137:11",className:"text-2xl font-heading font-bold text-biotech-white mb-2",children:"Order Confirmed"}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:140:11",className:"text-biotech-gray mb-6",children:["Thank you for your research order. A confirmation email has been sent to ",i.email,"."]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:143:11",className:"bg-biotech-dark rounded-lg p-4 mb-6 text-left",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:144:13",className:"text-xs text-biotech-gray mb-1",children:"Order ID"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:145:13",className:"text-biotech-white font-mono",children:n})]}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:147:11",onClick:r,className:"w-full btn-primary",children:"Continue Shopping"})]})}):t.length===0?e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:157:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:158:9",className:"glass-card p-8 max-w-md w-full text-center",children:[e.jsx("h2",{"code-path":"src/pages/CheckoutPage.tsx:159:11",className:"text-xl font-heading font-bold text-biotech-white mb-4",children:"Your cart is empty"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:162:11",className:"text-biotech-gray mb-6",children:"Add research materials to your cart before checking out."}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:165:11",onClick:r,className:"w-full btn-primary",children:"Browse Products"})]})}):e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:174:5",className:"min-h-screen bg-biotech-black",children:[e.jsxs("nav",{"code-path":"src/pages/CheckoutPage.tsx:176:7",className:"fixed top-0 left-0 right-0 z-50 px-6 py-4 flex items-center justify-between bg-biotech-black/90 backdrop-blur-xl border-b border-biotech-white/10",children:[e.jsxs("button",{"code-path":"src/pages/CheckoutPage.tsx:177:9",onClick:r,className:"flex items-center gap-2 text-biotech-gray hover:text-biotech-white transition-colors",children:[e.jsx(Me,{"code-path":"src/pages/CheckoutPage.tsx:178:11",className:"w-5 h-5"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:179:11",children:"Continue Shopping"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:181:9",className:"flex items-center gap-2",children:[e.jsx(re,{"code-path":"src/pages/CheckoutPage.tsx:182:11",className:"w-4 h-4 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:183:11",className:"text-sm text-biotech-gray",children:"Secure Checkout"})]})]}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:188:7",className:"pt-20 bg-yellow-500/10 border-b border-yellow-500/20",children:e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:189:9",className:"max-w-7xl mx-auto px-6 py-3",children:e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:190:11",className:"text-sm text-yellow-400/90 flex items-center gap-2",children:[e.jsx(de,{"code-path":"src/pages/CheckoutPage.tsx:191:13",className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:192:13",children:"By completing this purchase, you affirm these products are for research use only and you are a qualified researcher 21+."})]})})}),e.jsx("main",{"code-path":"src/pages/CheckoutPage.tsx:197:7",className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:198:9",className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:200:11",className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:202:13",className:"flex items-center gap-4 mb-8",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:203:15",className:`flex items-center gap-2 ${c==="info"?"text-biotech-mint":"text-biotech-gray"}`,children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:204:17",className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="info"?"bg-biotech-mint text-biotech-black":"bg-biotech-white/10"}`,children:e.jsx(he,{"code-path":"src/pages/CheckoutPage.tsx:205:19",className:"w-4 h-4"})}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:207:17",className:"text-sm font-medium",children:"Information"})]}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:209:15",className:"flex-1 h-px bg-biotech-white/10"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:210:15",className:`flex items-center gap-2 ${c==="payment"?"text-biotech-mint":"text-biotech-gray"}`,children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:211:17",className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="payment"?"bg-biotech-mint text-biotech-black":"bg-biotech-white/10"}`,children:e.jsx(pe,{"code-path":"src/pages/CheckoutPage.tsx:212:19",className:"w-4 h-4"})}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:214:17",className:"text-sm font-medium",children:"Payment"})]})]}),w&&e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:220:15",className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(de,{"code-path":"src/pages/CheckoutPage.tsx:221:17",className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:222:17",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:223:19",className:"text-red-400 font-medium",children:"Error"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:224:19",className:"text-red-300/80 text-sm",children:w})]})]}),c==="info"&&e.jsxs("form",{"code-path":"src/pages/CheckoutPage.tsx:230:15",onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:231:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:232:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(he,{"code-path":"src/pages/CheckoutPage.tsx:233:21",className:"w-5 h-5 text-biotech-mint"}),"Researcher Information"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:236:19",className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:237:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:238:23",className:"block text-sm text-biotech-gray mb-2",children:"First Name *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:239:23",type:"text",name:"firstName",value:i.firstName,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:249:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:250:23",className:"block text-sm text-biotech-gray mb-2",children:"Last Name *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:251:23",type:"text",name:"lastName",value:i.lastName,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:261:21",className:"md:col-span-2",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:262:23",className:"block text-sm text-biotech-gray mb-2",children:"Email Address *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:263:23",type:"email",name:"email",value:i.email,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:273:21",className:"md:col-span-2",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:274:23",className:"block text-sm text-biotech-gray mb-2",children:"Institution/Organization *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:275:23",type:"text",name:"institution",value:i.institution,onChange:x,required:!0,disabled:l,placeholder:"University, Lab, or Research Facility",className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:289:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:290:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(We,{"code-path":"src/pages/CheckoutPage.tsx:291:21",className:"w-5 h-5 text-biotech-mint"}),"Shipping Address"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:294:19",className:"space-y-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:295:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:296:23",className:"block text-sm text-biotech-gray mb-2",children:"Street Address *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:297:23",type:"text",name:"address",value:i.address,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:307:21",className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:308:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:309:25",className:"block text-sm text-biotech-gray mb-2",children:"City *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:310:25",type:"text",name:"city",value:i.city,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:320:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:321:25",className:"block text-sm text-biotech-gray mb-2",children:"State *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:322:25",type:"text",name:"state",value:i.state,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:332:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:333:25",className:"block text-sm text-biotech-gray mb-2",children:"ZIP Code *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:334:25",type:"text",name:"zip",value:i.zip,onChange:x,required:!0,disabled:l,pattern:"\\d{5}(-\\d{4})?",placeholder:"12345",className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:350:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:351:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(Ue,{"code-path":"src/pages/CheckoutPage.tsx:352:21",className:"w-5 h-5 text-biotech-mint"}),"Required Affirmations"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:355:19",className:"space-y-4",children:[e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:356:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:357:23",type:"checkbox",name:"researchPurpose",checked:i.researchPurpose,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:366:23",className:"text-sm text-biotech-gray",children:"I affirm that these products will be used solely for research purposes and will not be used for human consumption, diagnostic, or therapeutic purposes."})]}),e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:370:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:371:23",type:"checkbox",name:"ageConfirm",checked:i.ageConfirm,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:380:23",className:"text-sm text-biotech-gray",children:"I confirm that I am 21 years of age or older and am a qualified researcher or laboratory professional."})]}),e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:384:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:385:23",type:"checkbox",name:"termsAgree",checked:i.termsAgree,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:394:23",className:"text-sm text-biotech-gray",children:"I agree to the Terms of Service and Privacy Policy, and understand that all products are sold for research use only and are not FDA approved."})]})]})]}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:401:17",type:"submit",disabled:l,className:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Je,{"code-path":"src/pages/CheckoutPage.tsx:408:23",className:"w-5 h-5 animate-spin"}),"Processing..."]}):"Continue to Payment"})]}),c==="payment"&&g&&e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:419:15",className:"space-y-6",children:[e.jsx(Ft,{"code-path":"src/pages/CheckoutPage.tsx:420:17",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:421:19",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:422:21",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(pe,{"code-path":"src/pages/CheckoutPage.tsx:423:23",className:"w-5 h-5 text-biotech-mint"}),"Payment Method"]}),e.jsx(_t,{"code-path":"src/pages/CheckoutPage.tsx:427:21",clientSecret:g,onSuccess:X,onError:v=>{k(v)},totalAmount:s*100})]})}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:438:17",className:"flex gap-4",children:e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:439:19",onClick:()=>o("info"),disabled:l,className:"flex-1 px-6 py-4 bg-biotech-white/10 border border-biotech-white/20 text-biotech-white font-semibold rounded-xl hover:bg-biotech-white/20 transition-colors disabled:opacity-50",children:"Back"})})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:452:11",className:"lg:sticky lg:top-24 space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:453:13",className:"glass-card p-6",children:[e.jsx("h3",{"code-path":"src/pages/CheckoutPage.tsx:454:15",className:"text-lg font-heading font-bold text-biotech-white mb-4",children:"Order Summary"}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:455:15",className:"space-y-4 mb-4",children:t.map(v=>e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:457:19",className:"flex items-center gap-3",children:[e.jsx("img",{"code-path":"src/pages/CheckoutPage.tsx:458:21",src:v.image,alt:v.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:459:21",className:"flex-1",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:460:23",className:"text-sm text-biotech-white",children:v.name}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:461:23",className:"text-xs text-biotech-gray",children:["Qty: ",v.quantity]})]}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:463:21",className:"text-sm text-biotech-white",children:["$",v.price*v.quantity]})]},v.id))}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:467:15",className:"border-t border-biotech-white/10 pt-4 space-y-2",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:468:17",className:"flex justify-between text-sm",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:469:19",className:"text-biotech-gray",children:"Subtotal"}),e.jsxs("span",{"code-path":"src/pages/CheckoutPage.tsx:470:19",className:"text-biotech-white",children:["$",s]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:472:17",className:"flex justify-between text-sm",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:473:19",className:"text-biotech-gray",children:"Shipping"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:474:19",className:"text-biotech-mint",children:"Free"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:476:17",className:"flex justify-between text-lg font-bold pt-2 border-t border-biotech-white/10",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:477:19",className:"text-biotech-white",children:"Total"}),e.jsxs("span",{"code-path":"src/pages/CheckoutPage.tsx:478:19",className:"text-biotech-mint",children:["$",s]})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:483:13",className:"glass-card p-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:484:15",className:"flex items-center gap-3 mb-3",children:[e.jsx(Ye,{"code-path":"src/pages/CheckoutPage.tsx:485:17",className:"w-5 h-5 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:486:17",className:"text-sm text-biotech-white font-medium",children:"Free Shipping"})]}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:488:15",className:"text-xs text-biotech-gray",children:"Temperature-controlled shipping with tracking. Signature required."})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:493:13",className:"glass-card p-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:494:15",className:"flex items-center gap-3 mb-3",children:[e.jsx($e,{"code-path":"src/pages/CheckoutPage.tsx:495:17",className:"w-5 h-5 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:496:17",className:"text-sm text-biotech-white font-medium",children:"Secure Checkout"})]}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:498:15",className:"text-xs text-biotech-gray",children:"PCI-DSS compliant. Your data is encrypted and never shared."})]})]})]})})]})}export{Bt as default};
