import{c as W,g as Le,R as u,r as j,j as e,C as re,L as ae,u as qe,T as pe,F as Ue,a as $e}from"./index-BkCu7_xY.js";import{A as Me}from"./arrow-left-B3zwIL4F.js";import{M as We}from"./map-pin-CbiTsRW3.js";const De=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Be=W("circle-alert",De);const ze=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],he=W("credit-card",ze);const Ve=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Je=W("loader-circle",Ve);const Ke=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ye=W("truck",Ke);const He=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ue=W("user",He);const Xe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ge=W("wallet",Xe);function J(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(t){return typeof t}:J=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(r)}var Ce="clover",Qe=function(t){return t===3?"v3":t},je="https://js.stripe.com",Ze="".concat(je,"/").concat(Ce,"/stripe.js"),et=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var st=function(t){return et.test(t)||tt.test(t)},rt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(je,'"]')),s=0;s<t.length;s++){var a=t[s];if(st(a.src))return a}return null},me=function(t){var s="",a=document.createElement("script");a.src="".concat(Ze).concat(s);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(a),a},at=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},D=null,z=null,V=null,ct=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},ot=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},nt=function(t){return D!==null?D:(D=new Promise(function(s,a){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var c=rt();if(!(c&&t)){if(!c)c=me(t);else if(c&&V!==null&&z!==null){var o;c.removeEventListener("load",V),c.removeEventListener("error",z),(o=c.parentNode)===null||o===void 0||o.removeChild(c),c=me(t)}}V=ot(s,a),z=ct(a),c.addEventListener("load",V),c.addEventListener("error",z)}catch(d){a(d);return}}),D.catch(function(s){return D=null,Promise.reject(s)}))},it=function(t,s,a){if(t===null)return null;var c=s[0];if(typeof c!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(J(c)," instead."));var o=c.match(/^pk_test/),d=Qe(t.version),h=Ce;o&&d!==h&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var n=t.apply(void 0,s);return at(n,a),n},B,Ne=!1,Se=function(){return B||(B=nt(null).catch(function(t){return B=null,Promise.reject(t)}),B)};Promise.resolve().then(function(){return Se()}).catch(function(r){Ne||console.warn(r)});var lt=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Ne=!0;var c=Date.now();return Se().then(function(o){return it(o,s,c)})},ee={exports:{}},te,xe;function dt(){if(xe)return te;xe=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return te=r,te}var se,ge;function pt(){if(ge)return se;ge=1;var r=dt();function t(){}function s(){}return s.resetWarningCache=t,se=function(){function a(d,h,n,f,g,m){if(m!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}a.isRequired=a;function c(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:c,element:a,elementType:a,instanceOf:c,node:a,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:s,resetWarningCache:t};return o.PropTypes=o,o},se}var fe;function ht(){return fe||(fe=1,ee.exports=pt()()),ee.exports}var ut=ht();const p=Le(ut);function be(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,a)}return s}function ye(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?be(Object(s),!0).forEach(function(a){we(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):be(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}function K(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(t){return typeof t}:K=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(r)}function we(r,t,s){return t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function mt(r,t){if(r==null)return{};var s={},a=Object.keys(r),c,o;for(o=0;o<a.length;o++)c=a[o],!(t.indexOf(c)>=0)&&(s[c]=r[c]);return s}function xt(r,t){if(r==null)return{};var s=mt(r,t),a,c;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(c=0;c<o.length;c++)a=o[c],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}function Ee(r,t){return gt(r)||ft(r,t)||bt(r,t)||yt()}function gt(r){if(Array.isArray(r))return r}function ft(r,t){var s=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(s!=null){var a=[],c=!0,o=!1,d,h;try{for(s=s.call(r);!(c=(d=s.next()).done)&&(a.push(d.value),!(t&&a.length===t));c=!0);}catch(n){o=!0,h=n}finally{try{!c&&s.return!=null&&s.return()}finally{if(o)throw h}}return a}}function bt(r,t){if(r){if(typeof r=="string")return ve(r,t);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ve(r,t)}}function ve(r,t){(t==null||t>r.length)&&(t=r.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=r[s];return a}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=function(t,s,a){var c=!!a,o=u.useRef(a);u.useEffect(function(){o.current=a},[a]),u.useEffect(function(){if(!c||!t)return function(){};var d=function(){o.current&&o.current.apply(o,arguments)};return t.on(s,d),function(){t.off(s,d)}},[c,s,t,o])},ce=function(t){var s=u.useRef(t);return u.useEffect(function(){s.current=t},[t]),s.current},M=function(t){return t!==null&&K(t)==="object"},vt=function(t){return M(t)&&typeof t.then=="function"},Pt=function(t){return M(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Pe="[object Object]",kt=function r(t,s){if(!M(t)||!M(s))return t===s;var a=Array.isArray(t),c=Array.isArray(s);if(a!==c)return!1;var o=Object.prototype.toString.call(t)===Pe,d=Object.prototype.toString.call(s)===Pe;if(o!==d)return!1;if(!o&&!a)return t===s;var h=Object.keys(t),n=Object.keys(s);if(h.length!==n.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var m=0;m<n.length;m+=1)f[n[m]]=!0;var l=Object.keys(f);if(l.length!==h.length)return!1;var E=t,w=s,k=function(b){return r(E[b],w[b])};return l.every(k)},Ae=function(t,s,a){return M(t)?Object.keys(t).reduce(function(c,o){var d=!M(s)||!kt(t[o],s[o]);return a.includes(o)?(d&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),c):d?ye(ye({},c||{}),{},we({},o,t[o])):c},null):null},Oe="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ke=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe;if(t===null||Pt(t))return t;throw new Error(s)},Ct=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe;if(vt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(c){return ke(c,s)})};var a=ke(t,s);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},jt=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},Y=u.createContext(null);Y.displayName="ElementsContext";var Re=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},Te=function(t){var s=t.stripe,a=t.options,c=t.children,o=u.useMemo(function(){return Ct(s)},[s]),d=u.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(a):null}}),h=Ee(d,2),n=h[0],f=h[1];u.useEffect(function(){var l=!0,E=function(k){f(function(i){return i.stripe?i:{stripe:k,elements:k.elements(a)}})};return o.tag==="async"&&!n.stripe?o.stripePromise.then(function(w){w&&l&&E(w)}):o.tag==="sync"&&!n.stripe&&E(o.stripe),function(){l=!1}},[o,n,a]);var g=ce(s);u.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var m=ce(a);return u.useEffect(function(){if(n.elements){var l=Ae(a,m,["clientSecret","fonts"]);l&&n.elements.update(l)}},[a,m,n.elements]),u.useEffect(function(){jt(n.stripe)},[n.stripe]),u.createElement(Y.Provider,{value:n},c)};Te.propTypes={stripe:p.any,options:p.object};var Nt=function(t){var s=u.useContext(Y);return Re(s,t)},St=function(){var t=Nt("calls useElements()"),s=t.elements;return s};p.func.isRequired;var Ie=u.createContext(null);Ie.displayName="CheckoutContext";p.any,p.shape({clientSecret:p.oneOfType([p.string,p.instanceOf(Promise)]).isRequired,elementsOptions:p.object}).isRequired;var oe=function(t){var s=u.useContext(Ie),a=u.useContext(Y);if(s){if(a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s}else return Re(a,t)},wt=["mode"],Et=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},N=function(t,s){var a="".concat(Et(t),"Element"),c=function(n){var f=n.id,g=n.className,m=n.options,l=m===void 0?{}:m,E=n.onBlur,w=n.onFocus,k=n.onReady,i=n.onChange,b=n.onEscape,x=n.onClick,H=n.onLoadError,X=n.onLoaderStart,v=n.onNetworksChange,O=n.onConfirm,q=n.onCancel,T=n.onShippingAddressChange,F=n.onShippingRateChange,G=n.onSavedPaymentMethodRemove,U=n.onSavedPaymentMethodUpdate,A=oe("mounts <".concat(a,">")),_="elements"in A?A.elements:null,L="checkoutState"in A?A.checkoutState:null,R=L?.type==="success"||L?.type==="loading"?L.sdk:null,Fe=u.useState(null),ne=Ee(Fe,2),P=ne[0],_e=ne[1],I=u.useRef(null),Q=u.useRef(null);C(P,"blur",E),C(P,"focus",w),C(P,"escape",b),C(P,"click",x),C(P,"loaderror",H),C(P,"loaderstart",X),C(P,"networkschange",v),C(P,"confirm",O),C(P,"cancel",q),C(P,"shippingaddresschange",T),C(P,"shippingratechange",F),C(P,"savedpaymentmethodremove",G),C(P,"savedpaymentmethodupdate",U),C(P,"change",i);var Z;k&&(t==="expressCheckout"?Z=k:Z=function(){k(P)}),C(P,"ready",Z),u.useLayoutEffect(function(){if(I.current===null&&Q.current!==null&&(_||R)){var y=null;if(R)switch(t){case"paymentForm":y=R.createPaymentFormElement(l);break;case"payment":y=R.createPaymentElement(l);break;case"address":if("mode"in l){var le=l.mode,de=xt(l,wt);if(le==="shipping")y=R.createShippingAddressElement(de);else if(le==="billing")y=R.createBillingAddressElement(de);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":y=R.createExpressCheckoutElement(l);break;case"currencySelector":y=R.createCurrencySelectorElement();break;case"taxId":y=R.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else _&&(y=_.create(t,l));I.current=y,_e(y),y&&y.mount(Q.current)}},[_,R,l]);var ie=ce(l);return u.useEffect(function(){if(I.current){var y=Ae(l,ie,["paymentRequest"]);y&&"update"in I.current&&I.current.update(y)}},[l,ie]),u.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),u.createElement("div",{id:f,className:g,ref:Q})},o=function(n){oe("mounts <".concat(a,">"));var f=n.id,g=n.className;return u.createElement("div",{id:f,className:g})},d=s?o:c;return d.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,onSavedPaymentMethodRemove:p.func,onSavedPaymentMethodUpdate:p.func,options:p.object},d.displayName=a,d.__elementType=t,d},S=typeof window>"u",At=u.createContext(null);At.displayName="EmbeddedCheckoutProviderContext";var Ot=function(){var t=oe("calls useStripe()"),s=t.stripe;return s};N("auBankAccount",S);N("card",S);N("cardNumber",S);N("cardExpiry",S);N("cardCvc",S);N("iban",S);var Rt=N("payment",S),Tt=N("expressCheckout",S);N("paymentRequestButton",S);N("linkAuthentication",S);N("address",S);N("shippingAddress",S);N("paymentMethodMessaging",S);N("taxId",S);const It="pk_live_51S4XlR0SClXAcjAhi1w6BkuRdEZaYBtsVLZXf9wg4LyriUJmWL9ztKzco7jUhmSbm35Sw9DXpuKTwnUd8iy8SUUj00bAEHhFna";function Ft({children:r,clientSecret:t}){const[s,a]=j.useState(null),[c,o]=j.useState(!0),[d,h]=j.useState(null);if(j.useEffect(()=>{(async()=>{try{const g=await lt(It);a(g)}catch(g){h("Failed to load payment system. Please try again later."),console.error("Stripe initialization error:",g)}finally{o(!1)}})()},[]),c)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:36:7",className:"min-h-screen bg-biotech-black flex items-center justify-center",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:37:9",className:"text-center",children:[e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:38:11",className:"w-12 h-12 border-4 border-biotech-mint/30 border-t-biotech-mint rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:39:11",className:"text-biotech-gray",children:"Loading payment system..."})]})});if(d)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:47:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:48:9",className:"glass-card p-8 max-w-md text-center",children:[e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:49:11",className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{"code-path":"src/components/StripeProvider.tsx:50:13",className:"w-8 h-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"code-path":"src/components/StripeProvider.tsx:51:15",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{"code-path":"src/components/StripeProvider.tsx:54:11",className:"text-xl font-heading font-bold text-biotech-white mb-2",children:"Payment System Error"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:55:11",className:"text-biotech-gray mb-4",children:d}),e.jsx("button",{"code-path":"src/components/StripeProvider.tsx:56:11",onClick:()=>window.location.reload(),className:"btn-primary",children:"Try Again"})]})});if(!s)return e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:69:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/components/StripeProvider.tsx:70:9",className:"glass-card p-8 max-w-md text-center",children:[e.jsx("h2",{"code-path":"src/components/StripeProvider.tsx:71:11",className:"text-xl font-heading font-bold text-biotech-white mb-2",children:"Demo Mode"}),e.jsx("p",{"code-path":"src/components/StripeProvider.tsx:72:11",className:"text-biotech-gray mb-4",children:"Stripe is not configured. To enable payments, add your Stripe public key to the environment variables."}),e.jsx("div",{"code-path":"src/components/StripeProvider.tsx:75:11",className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mb-4",children:e.jsxs("p",{"code-path":"src/components/StripeProvider.tsx:76:13",className:"text-sm text-yellow-400/80",children:[e.jsx("strong",{"code-path":"src/components/StripeProvider.tsx:77:15",children:"Note:"})," Checkout will proceed in demo mode without actual payment processing."]})}),r]})});const n=t?{clientSecret:t,appearance:{theme:"night",variables:{colorPrimary:"#2EE9A8",colorBackground:"#0B0C10",colorText:"#F4F6FA",colorDanger:"#ef4444",borderRadius:"12px",fontFamily:"Inter, sans-serif"},rules:{".Input":{backgroundColor:"#111318",border:"1px solid rgba(244, 246, 250, 0.2)"},".Input:focus":{border:"1px solid #2EE9A8"},".Tab":{backgroundColor:"#111318",border:"1px solid rgba(244, 246, 250, 0.2)"},".Tab--selected":{backgroundColor:"rgba(46, 233, 168, 0.1)",border:"1px solid #2EE9A8"}}}}:void 0;return e.jsx(Te,{"code-path":"src/components/StripeProvider.tsx:120:5",stripe:s,options:n,children:r})}function _t({clientSecret:r,onSuccess:t,onError:s,totalAmount:a}){const c=Ot(),o=St(),[d,h]=j.useState(!1),[n,f]=j.useState(null),[g,m]=j.useState("idle"),[l,E]=j.useState(!1),w=async i=>{if(!(!c||!o)){h(!0),f(null),m("processing");try{const{error:b}=await c.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/checkout/complete`},redirect:"if_required"});b?(f(b.message||"Payment failed. Please try again."),s(b.message||"Payment failed"),m("idle"),i.complete("fail")):(m("succeeded"),i.complete("success"),t())}catch(b){const x=b instanceof Error?b.message:"Payment processing failed";f(x),s(x),m("idle"),i.complete("fail")}finally{h(!1)}}},k=async i=>{if(i.preventDefault(),!c||!o){f("Payment system is loading. Please try again.");return}h(!0),f(null),m("processing");try{const{error:b,paymentIntent:x}=await c.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/checkout/complete`},redirect:"if_required"});b?(f(b.message||"Payment failed. Please try again."),s(b.message||"Payment failed"),m("idle")):x&&(x.status==="succeeded"?(m("succeeded"),t()):x.status==="requires_action"?m("processing"):(f(`Payment status: ${x.status}. Please contact support.`),m("idle")))}catch(b){const x=b instanceof Error?b.message:"Payment processing failed";f(x),s(x),m("idle")}finally{h(!1)}};return e.jsxs("form",{"code-path":"src/components/PaymentForm.tsx:115:5",onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:117:7",className:"bg-biotech-black/50 border border-biotech-white/20 rounded-xl p-4",children:[e.jsxs("label",{"code-path":"src/components/PaymentForm.tsx:118:9",className:"block text-sm text-biotech-gray mb-3 flex items-center gap-2",children:[e.jsx(Ge,{"code-path":"src/components/PaymentForm.tsx:119:11",className:"w-4 h-4"}),"Quick Checkout"]}),e.jsx(Tt,{"code-path":"src/components/PaymentForm.tsx:122:9",onReady:()=>E(!0),onClick:({resolve:i})=>{i({lineItems:[{name:"Research Order",amount:a}]})},onConfirm:w,options:{buttonType:{applePay:"buy",googlePay:"buy"},buttonHeight:44}}),!l&&e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:144:11",className:"text-xs text-biotech-gray/60 mt-2 text-center",children:"Loading express checkout options..."})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:151:7",className:"relative",children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:152:9",className:"absolute inset-0 flex items-center",children:e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:153:11",className:"w-full border-t border-biotech-white/10"})}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:155:9",className:"relative flex justify-center text-sm",children:e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:156:11",className:"px-2 bg-biotech-black text-biotech-gray",children:"Or pay with card"})})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:161:7",className:"bg-biotech-black/50 border border-biotech-white/20 rounded-xl p-4",children:[e.jsx("label",{"code-path":"src/components/PaymentForm.tsx:162:9",className:"block text-sm text-biotech-gray mb-2",children:"Card Information"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:165:9",className:"p-3 bg-biotech-dark rounded-lg",children:e.jsx(Rt,{"code-path":"src/components/PaymentForm.tsx:166:11",options:{layout:{type:"tabs",defaultCollapsed:!1},paymentMethodOrder:["card"]}})}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:178:9",className:"flex items-center gap-2 mt-3",children:[e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:179:11",className:"flex gap-1",children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:181:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"VISA"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:183:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"MC"}),e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:185:13",className:"w-10 h-6 bg-white/10 rounded flex items-center justify-center text-xs text-white/60",children:"AMEX"})]}),e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:187:11",className:"text-xs text-biotech-gray/60 ml-auto",children:"Encrypted & Secure"})]})]}),n&&e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:195:9",className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(Be,{"code-path":"src/components/PaymentForm.tsx:196:11",className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:197:11",className:"text-sm text-red-300/80",children:n})]}),g==="succeeded"&&e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:203:9",className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(re,{"code-path":"src/components/PaymentForm.tsx:204:11",className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:205:11",className:"text-sm text-green-300/80",children:"Payment successful! Processing your order..."})]}),e.jsxs("div",{"code-path":"src/components/PaymentForm.tsx:210:7",className:"flex items-center gap-2 text-sm text-biotech-gray",children:[e.jsx(ae,{"code-path":"src/components/PaymentForm.tsx:211:9",className:"w-4 h-4 text-biotech-mint"}),e.jsx("span",{"code-path":"src/components/PaymentForm.tsx:212:9",children:"Your payment is secured with 256-bit SSL encryption"})]}),e.jsx("button",{"code-path":"src/components/PaymentForm.tsx:216:7",type:"submit",disabled:d||!c||g==="succeeded",className:"w-full py-4 bg-biotech-mint text-biotech-black font-semibold rounded-xl hover:bg-biotech-mint/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:223:13",className:"w-5 h-5 border-2 border-biotech-black/30 border-t-biotech-black rounded-full animate-spin"}),"Processing Payment..."]}):g==="succeeded"?e.jsxs(e.Fragment,{children:[e.jsx(re,{"code-path":"src/components/PaymentForm.tsx:228:13",className:"w-5 h-5"}),"Payment Complete"]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{"code-path":"src/components/PaymentForm.tsx:233:13",className:"w-5 h-5"}),"Complete Purchase"]})}),!c&&e.jsx("div",{"code-path":"src/components/PaymentForm.tsx:241:9",className:"bg-biotech-mint/10 border border-biotech-mint/20 rounded-lg p-3",children:e.jsx("p",{"code-path":"src/components/PaymentForm.tsx:242:11",className:"text-sm text-biotech-mint text-center",children:"Initializing secure payment system..."})})]})}const Lt="http://localhost:3001/api",qt=3e4;async function $(r,t={}){const s=new AbortController,a=setTimeout(()=>s.abort(),qt);try{const c=await fetch(`${Lt}${r}`,{...t,headers:{"Content-Type":"application/json",...t.headers},signal:s.signal});clearTimeout(a);const o=await c.json();return c.ok?o:{success:!1,error:o.error||{code:"UNKNOWN_ERROR",message:"An unexpected error occurred"}}}catch(c){return clearTimeout(a),c instanceof Error?c.name==="AbortError"?{success:!1,error:{code:"TIMEOUT",message:"Request timed out. Please try again."}}:{success:!1,error:{code:"NETWORK_ERROR",message:c.message}}:{success:!1,error:{code:"UNKNOWN_ERROR",message:"An unexpected error occurred"}}}}const Ut={create:r=>$("/orders",{method:"POST",body:JSON.stringify(r)}),get:(r,t)=>{const s=t?`?email=${encodeURIComponent(t)}`:"";return $(`/orders/${r}${s}`,{method:"GET"})},updateStatus:(r,t,s)=>$(`/orders/${r}/status`,{method:"PATCH",body:JSON.stringify({status:t,paymentIntentId:s})})},$t={createIntent:r=>$("/payments/create-intent",{method:"POST",body:JSON.stringify(r)}),getStatus:r=>$(`/payments/${r}/status`,{method:"GET"}),confirm:(r,t)=>$(`/payments/${r}/confirm`,{method:"POST",body:JSON.stringify({paymentMethod:t})})};function Bt({onBack:r}){const{items:t,total:s,clearCart:a}=qe(),[c,o]=j.useState("info"),[d,h]=j.useState(!1),[n,f]=j.useState(null),[g,m]=j.useState(null),[l,E]=j.useState(!1),[w,k]=j.useState(null),[i,b]=j.useState({firstName:"",lastName:"",email:"",institution:"",address:"",city:"",state:"",zip:"",country:"US",researchPurpose:!1,ageConfirm:!1,termsAgree:!1}),x=v=>{const{name:O,value:q,type:T}=v.target;b(F=>({...F,[O]:T==="checkbox"?v.target.checked:q})),k(null)},H=async v=>{v.preventDefault(),E(!0),k(null);try{const O=new Date().toISOString(),q=t.reduce((A,_)=>A+_.price*_.quantity,0),T=await Ut.create({items:t.map(A=>({productId:A.id,name:A.name,quantity:A.quantity,price:A.price*100})),shippingAddress:{name:`${i.firstName} ${i.lastName}`,line1:i.address,city:i.city,state:i.state,postalCode:i.zip,country:i.country},customerEmail:i.email,ageVerified:i.ageConfirm,termsAccepted:i.termsAgree,researchUseOnly:i.researchPurpose,notes:`Institution: ${i.institution}`,pricing:{subtotal:q*100,shipping:0,tax:0,total:q*100},compliance:{ageVerified:i.ageConfirm,ageVerifiedAt:O,termsAccepted:i.termsAgree,termsAcceptedAt:O,researchUseOnly:i.researchPurpose,researchUseAcknowledgedAt:O}});if(!T.success||!T.data)throw new Error(T.error?.message||"Failed to create order");const F=T.data.orderId;f(F);const G={...i,orderId:F,cartItems:t,total:s,timestamp:new Date().toISOString(),userAgent:navigator.userAgent};localStorage.setItem("last_checkout_attempt",JSON.stringify(G));const U=await $t.createIntent({amount:T.data.total,currency:"usd",orderId:F,customerEmail:i.email,metadata:{ageVerified:i.ageConfirm.toString(),termsAccepted:i.termsAgree.toString(),researchUseOnly:i.researchPurpose.toString()}});if(!U.success||!U.data)throw new Error(U.error?.message||"Failed to create payment intent");m(U.data.clientSecret),o("payment")}catch(O){k(O instanceof Error?O.message:"An unexpected error occurred")}finally{E(!1)}},X=()=>{h(!0),a(),localStorage.removeItem("last_checkout_attempt")};return d?e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:149:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:150:9",className:"glass-card p-8 max-w-md w-full text-center",children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:151:11",className:"w-20 h-20 bg-biotech-mint/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(re,{"code-path":"src/pages/CheckoutPage.tsx:152:13",className:"w-10 h-10 text-biotech-mint"})}),e.jsx("h2",{"code-path":"src/pages/CheckoutPage.tsx:154:11",className:"text-2xl font-heading font-bold text-biotech-white mb-2",children:"Order Confirmed"}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:157:11",className:"text-biotech-gray mb-6",children:["Thank you for your research order. A confirmation email has been sent to ",i.email,"."]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:160:11",className:"bg-biotech-dark rounded-lg p-4 mb-6 text-left",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:161:13",className:"text-xs text-biotech-gray mb-1",children:"Order ID"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:162:13",className:"text-biotech-white font-mono",children:n})]}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:164:11",onClick:r,className:"w-full btn-primary",children:"Continue Shopping"})]})}):t.length===0?e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:174:7",className:"min-h-screen bg-biotech-black flex items-center justify-center p-6",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:175:9",className:"glass-card p-8 max-w-md w-full text-center",children:[e.jsx("h2",{"code-path":"src/pages/CheckoutPage.tsx:176:11",className:"text-xl font-heading font-bold text-biotech-white mb-4",children:"Your cart is empty"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:179:11",className:"text-biotech-gray mb-6",children:"Add research materials to your cart before checking out."}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:182:11",onClick:r,className:"w-full btn-primary",children:"Browse Products"})]})}):e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:191:5",className:"min-h-screen bg-biotech-black",children:[e.jsxs("nav",{"code-path":"src/pages/CheckoutPage.tsx:193:7",className:"fixed top-0 left-0 right-0 z-50 px-6 py-4 flex items-center justify-between bg-biotech-black/90 backdrop-blur-xl border-b border-biotech-white/10",children:[e.jsxs("button",{"code-path":"src/pages/CheckoutPage.tsx:194:9",onClick:r,className:"flex items-center gap-2 text-biotech-gray hover:text-biotech-white transition-colors",children:[e.jsx(Me,{"code-path":"src/pages/CheckoutPage.tsx:195:11",className:"w-5 h-5"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:196:11",children:"Continue Shopping"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:198:9",className:"flex items-center gap-2",children:[e.jsx(ae,{"code-path":"src/pages/CheckoutPage.tsx:199:11",className:"w-4 h-4 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:200:11",className:"text-sm text-biotech-gray",children:"Secure Checkout"})]})]}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:205:7",className:"pt-20 bg-yellow-500/10 border-b border-yellow-500/20",children:e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:206:9",className:"max-w-7xl mx-auto px-6 py-3",children:e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:207:11",className:"text-sm text-yellow-400/90 flex items-center gap-2",children:[e.jsx(pe,{"code-path":"src/pages/CheckoutPage.tsx:208:13",className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:209:13",children:"By completing this purchase, you affirm these products are for research use only and you are a qualified researcher 21+."})]})})}),e.jsx("main",{"code-path":"src/pages/CheckoutPage.tsx:214:7",className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:215:9",className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:217:11",className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:219:13",className:"flex items-center gap-4 mb-8",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:220:15",className:`flex items-center gap-2 ${c==="info"?"text-biotech-mint":"text-biotech-gray"}`,children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:221:17",className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="info"?"bg-biotech-mint text-biotech-black":"bg-biotech-white/10"}`,children:e.jsx(ue,{"code-path":"src/pages/CheckoutPage.tsx:222:19",className:"w-4 h-4"})}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:224:17",className:"text-sm font-medium",children:"Information"})]}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:226:15",className:"flex-1 h-px bg-biotech-white/10"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:227:15",className:`flex items-center gap-2 ${c==="payment"?"text-biotech-mint":"text-biotech-gray"}`,children:[e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:228:17",className:`w-8 h-8 rounded-full flex items-center justify-center ${c==="payment"?"bg-biotech-mint text-biotech-black":"bg-biotech-white/10"}`,children:e.jsx(he,{"code-path":"src/pages/CheckoutPage.tsx:229:19",className:"w-4 h-4"})}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:231:17",className:"text-sm font-medium",children:"Payment"})]})]}),w&&e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:237:15",className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(pe,{"code-path":"src/pages/CheckoutPage.tsx:238:17",className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:239:17",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:240:19",className:"text-red-400 font-medium",children:"Error"}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:241:19",className:"text-red-300/80 text-sm",children:w})]})]}),c==="info"&&e.jsxs("form",{"code-path":"src/pages/CheckoutPage.tsx:247:15",onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:248:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:249:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(ue,{"code-path":"src/pages/CheckoutPage.tsx:250:21",className:"w-5 h-5 text-biotech-mint"}),"Researcher Information"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:253:19",className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:254:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:255:23",className:"block text-sm text-biotech-gray mb-2",children:"First Name *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:256:23",type:"text",name:"firstName",value:i.firstName,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:266:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:267:23",className:"block text-sm text-biotech-gray mb-2",children:"Last Name *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:268:23",type:"text",name:"lastName",value:i.lastName,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:278:21",className:"md:col-span-2",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:279:23",className:"block text-sm text-biotech-gray mb-2",children:"Email Address *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:280:23",type:"email",name:"email",value:i.email,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:290:21",className:"md:col-span-2",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:291:23",className:"block text-sm text-biotech-gray mb-2",children:"Institution/Organization *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:292:23",type:"text",name:"institution",value:i.institution,onChange:x,required:!0,disabled:l,placeholder:"University, Lab, or Research Facility",className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:306:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:307:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(We,{"code-path":"src/pages/CheckoutPage.tsx:308:21",className:"w-5 h-5 text-biotech-mint"}),"Shipping Address"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:311:19",className:"space-y-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:312:21",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:313:23",className:"block text-sm text-biotech-gray mb-2",children:"Street Address *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:314:23",type:"text",name:"address",value:i.address,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:324:21",className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:325:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:326:25",className:"block text-sm text-biotech-gray mb-2",children:"City *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:327:25",type:"text",name:"city",value:i.city,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:337:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:338:25",className:"block text-sm text-biotech-gray mb-2",children:"State *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:339:25",type:"text",name:"state",value:i.state,onChange:x,required:!0,disabled:l,className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:349:23",children:[e.jsx("label",{"code-path":"src/pages/CheckoutPage.tsx:350:25",className:"block text-sm text-biotech-gray mb-2",children:"ZIP Code *"}),e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:351:25",type:"text",name:"zip",value:i.zip,onChange:x,required:!0,disabled:l,pattern:"\\d{5}(-\\d{4})?",placeholder:"12345",className:"w-full bg-biotech-black/50 border border-biotech-white/20 rounded-xl px-4 py-3 text-biotech-white focus:border-biotech-mint focus:outline-none disabled:opacity-50"})]})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:367:17",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:368:19",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(Ue,{"code-path":"src/pages/CheckoutPage.tsx:369:21",className:"w-5 h-5 text-biotech-mint"}),"Required Affirmations"]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:372:19",className:"space-y-4",children:[e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:373:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:374:23",type:"checkbox",name:"researchPurpose",checked:i.researchPurpose,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:383:23",className:"text-sm text-biotech-gray",children:"I affirm that these products will be used solely for research purposes and will not be used for human consumption, diagnostic, or therapeutic purposes."})]}),e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:387:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:388:23",type:"checkbox",name:"ageConfirm",checked:i.ageConfirm,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:397:23",className:"text-sm text-biotech-gray",children:"I confirm that I am 21 years of age or older and am a qualified researcher or laboratory professional."})]}),e.jsxs("label",{"code-path":"src/pages/CheckoutPage.tsx:401:21",className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{"code-path":"src/pages/CheckoutPage.tsx:402:23",type:"checkbox",name:"termsAgree",checked:i.termsAgree,onChange:x,required:!0,disabled:l,className:"mt-1 w-4 h-4 accent-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:411:23",className:"text-sm text-biotech-gray",children:"I agree to the Terms of Service and Privacy Policy, and understand that all products are sold for research use only and are not FDA approved."})]})]})]}),e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:418:17",type:"submit",disabled:l,className:"w-full btn-primary py-4 text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Je,{"code-path":"src/pages/CheckoutPage.tsx:425:23",className:"w-5 h-5 animate-spin"}),"Processing..."]}):"Continue to Payment"})]}),c==="payment"&&g&&e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:436:15",className:"space-y-6",children:[e.jsx(Ft,{"code-path":"src/pages/CheckoutPage.tsx:437:17",children:e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:438:19",className:"glass-card p-6",children:[e.jsxs("h3",{"code-path":"src/pages/CheckoutPage.tsx:439:21",className:"text-lg font-heading font-bold text-biotech-white mb-4 flex items-center gap-2",children:[e.jsx(he,{"code-path":"src/pages/CheckoutPage.tsx:440:23",className:"w-5 h-5 text-biotech-mint"}),"Payment Method"]}),e.jsx(_t,{"code-path":"src/pages/CheckoutPage.tsx:444:21",clientSecret:g,onSuccess:X,onError:v=>{k(v)},totalAmount:s*100})]})}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:455:17",className:"flex gap-4",children:e.jsx("button",{"code-path":"src/pages/CheckoutPage.tsx:456:19",onClick:()=>o("info"),disabled:l,className:"flex-1 px-6 py-4 bg-biotech-white/10 border border-biotech-white/20 text-biotech-white font-semibold rounded-xl hover:bg-biotech-white/20 transition-colors disabled:opacity-50",children:"Back"})})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:469:11",className:"lg:sticky lg:top-24 space-y-6",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:470:13",className:"glass-card p-6",children:[e.jsx("h3",{"code-path":"src/pages/CheckoutPage.tsx:471:15",className:"text-lg font-heading font-bold text-biotech-white mb-4",children:"Order Summary"}),e.jsx("div",{"code-path":"src/pages/CheckoutPage.tsx:472:15",className:"space-y-4 mb-4",children:t.map(v=>e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:474:19",className:"flex items-center gap-3",children:[e.jsx("img",{"code-path":"src/pages/CheckoutPage.tsx:475:21",src:v.image,alt:v.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:476:21",className:"flex-1",children:[e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:477:23",className:"text-sm text-biotech-white",children:v.name}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:478:23",className:"text-xs text-biotech-gray",children:["Qty: ",v.quantity]})]}),e.jsxs("p",{"code-path":"src/pages/CheckoutPage.tsx:480:21",className:"text-sm text-biotech-white",children:["$",v.price*v.quantity]})]},v.id))}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:484:15",className:"border-t border-biotech-white/10 pt-4 space-y-2",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:485:17",className:"flex justify-between text-sm",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:486:19",className:"text-biotech-gray",children:"Subtotal"}),e.jsxs("span",{"code-path":"src/pages/CheckoutPage.tsx:487:19",className:"text-biotech-white",children:["$",s]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:489:17",className:"flex justify-between text-sm",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:490:19",className:"text-biotech-gray",children:"Shipping"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:491:19",className:"text-biotech-mint",children:"Free"})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:493:17",className:"flex justify-between text-lg font-bold pt-2 border-t border-biotech-white/10",children:[e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:494:19",className:"text-biotech-white",children:"Total"}),e.jsxs("span",{"code-path":"src/pages/CheckoutPage.tsx:495:19",className:"text-biotech-mint",children:["$",s]})]})]})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:500:13",className:"glass-card p-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:501:15",className:"flex items-center gap-3 mb-3",children:[e.jsx(Ye,{"code-path":"src/pages/CheckoutPage.tsx:502:17",className:"w-5 h-5 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:503:17",className:"text-sm text-biotech-white font-medium",children:"Free Shipping"})]}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:505:15",className:"text-xs text-biotech-gray",children:"Temperature-controlled shipping with tracking. Signature required."})]}),e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:510:13",className:"glass-card p-4",children:[e.jsxs("div",{"code-path":"src/pages/CheckoutPage.tsx:511:15",className:"flex items-center gap-3 mb-3",children:[e.jsx($e,{"code-path":"src/pages/CheckoutPage.tsx:512:17",className:"w-5 h-5 text-biotech-mint"}),e.jsx("span",{"code-path":"src/pages/CheckoutPage.tsx:513:17",className:"text-sm text-biotech-white font-medium",children:"Secure Checkout"})]}),e.jsx("p",{"code-path":"src/pages/CheckoutPage.tsx:515:15",className:"text-xs text-biotech-gray",children:"PCI-DSS compliant. Your data is encrypted and never shared."})]})]})]})})]})}export{Bt as default};
